<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inhouse Africa Technologies - Maintenance Mode</title>
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="images/logo_iat.png">
    <link rel="apple-touch-icon" href="images/logo_iat.png">
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    animation: {
                        'float': 'float 6s ease-in-out infinite',
                        'pulse-slow': 'pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'gradient-x': 'gradient-x 3s ease infinite',
                        'glow': 'glow 2s ease-in-out infinite alternate',
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0px)' },
                            '50%': { transform: 'translateY(-20px)' },
                        },
                        'gradient-x': {
                            '0%, 100%': { 'background-position': '0% 50%' },
                            '50%': { 'background-position': '100% 50%' },
                        },
                        glow: {
                            '0%': { 'box-shadow': '0 0 5px #a78bfa, 0 0 10px #a78bfa, 0 0 15px #a78bfa' },
                            '100%': { 'box-shadow': '0 0 10px #ec4899, 0 0 20px #ec4899, 0 0 30px #ec4899' },
                        }
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-gradient-to-br from-slate-950 via-purple-950 to-slate-900 text-white min-h-screen font-sans overflow-x-hidden antialiased">
    <!-- Animated background with particles -->
    <canvas id="bgCanvas" class="fixed inset-0 w-full h-full -z-10"></canvas>
    
    <!-- Floating orbs -->
    <div class="fixed inset-0 -z-5 overflow-hidden pointer-events-none">
        <div class="absolute top-1/4 left-1/4 w-96 h-96 bg-purple-500/20 rounded-full blur-3xl animate-float"></div>
        <div class="absolute bottom-1/4 right-1/4 w-96 h-96 bg-pink-500/20 rounded-full blur-3xl animate-float" style="animation-delay: -2s;"></div>
        <div class="absolute top-1/2 left-1/2 w-96 h-96 bg-cyan-500/10 rounded-full blur-3xl animate-float" style="animation-delay: -4s;"></div>
    </div>

    <div class="relative z-10 flex items-center justify-center px-4 sm:px-6 lg:px-8 min-h-screen py-12">
        <div class="max-w-7xl w-full mx-auto">
            <!-- Header with logo and actions -->
            <div class="flex items-center justify-between mb-12">
                <div class="flex items-center gap-4">
                    <div class="relative">
                        <div class="absolute inset-0 bg-gradient-to-r from-purple-500 to-pink-500 rounded-2xl blur-lg opacity-50 animate-pulse-slow"></div>
                        <img src="images/logo_iat.png" alt="Inhouse Africa Technologies" class="relative w-16 h-16 sm:w-20 sm:h-20 rounded-2xl bg-slate-900/80 backdrop-blur-xl p-3 border border-white/20 shadow-2xl">
                    </div>
                    <div class="space-y-1">
                        <div class="text-sm sm:text-base text-purple-300 uppercase tracking-widest font-bold">Inhouse Africa Tech</div>
                        <div class="flex items-center gap-2 text-xs sm:text-sm text-gray-400 font-medium">
                            <div class="w-2 h-2 bg-yellow-400 rounded-full animate-pulse"></div>
                            <span>Maintenance Mode</span>
                        </div>
                    </div>
                </div>
                <button id="toggleDev" class="px-4 py-2 rounded-xl border border-white/20 hover:border-white/40 text-sm font-semibold hover:bg-white/10 transition-all duration-300">
                    <i class="fas fa-code mr-2"></i>Dev
                </button>
            </div>

            <!-- Main content container -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12">
                <!-- Left: Main message -->
                <div class="space-y-8">
                    <!-- Glitch title -->
                    <div class="space-y-6">
                        <h1 class="glitch text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-black leading-tight" data-text="We're Leveling Up">
                            <span class="bg-gradient-to-r from-white via-purple-200 to-white bg-clip-text text-transparent">We're</span><br/>
                            <span class="bg-gradient-to-r from-purple-400 via-pink-500 to-cyan-400 bg-clip-text text-transparent animate-gradient-x bg-[length:200%_200%]">Leveling Up</span>
                        </h1>

                        <p class="text-gray-300 text-lg sm:text-xl leading-relaxed">
                            <i class="fas fa-robot text-purple-400 mr-2"></i>
                            Integrating cutting-edge AI, deploying new features, and turbocharging performance. We'll be back soon — <span class="text-white font-semibold">smarter</span>, <span class="text-white font-semibold">faster</span>, and more <span class="text-white font-semibold">innovative</span>.
                        </p>
                    </div>

                    <!-- Info cards -->
                    <div class="grid grid-cols-2 gap-4">
                        <div class="relative group">
                            <div class="absolute inset-0 bg-gradient-to-r from-purple-600 to-pink-600 rounded-2xl blur opacity-25 group-hover:opacity-40 transition-opacity duration-300"></div>
                            <div class="relative p-6 rounded-2xl bg-slate-900/80 backdrop-blur-xl border border-white/10 hover:border-purple-400/50 transition-all duration-300">
                                <div class="text-sm text-gray-400 font-medium mb-2">
                                    <i class="fas fa-clock mr-2 text-purple-400"></i>Estimated Time
                                </div>
                                <div class="text-2xl font-black bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent">2–4 Days</div>
                            </div>
                        </div>
                        <div class="relative group">
                            <div class="absolute inset-0 bg-gradient-to-r from-cyan-600 to-blue-600 rounded-2xl blur opacity-25 group-hover:opacity-40 transition-opacity duration-300"></div>
                            <div class="relative p-6 rounded-2xl bg-slate-900/80 backdrop-blur-xl border border-white/10 hover:border-cyan-400/50 transition-all duration-300">
                                <div class="text-sm text-gray-400 font-medium mb-2">
                                    <i class="fas fa-rocket mr-2 text-cyan-400"></i>Progress
                                </div>
                                <div class="text-2xl font-black bg-gradient-to-r from-cyan-400 to-blue-400 bg-clip-text text-transparent">65%</div>
                            </div>
                        </div>
                    </div>

                    <!-- Countdown timer -->
                    <div class="relative">
                        <div class="absolute inset-0 bg-gradient-to-r from-purple-600 via-pink-600 to-cyan-600 rounded-3xl blur-xl opacity-20"></div>
                        <div class="relative p-8 rounded-3xl bg-slate-900/80 backdrop-blur-xl border border-white/10">
                            <div class="text-center mb-4">
                                <h3 class="text-xl font-bold text-white mb-2">
                                    <i class="fas fa-hourglass-half text-purple-400 mr-2 animate-pulse"></i>
                                    Back Online In
                                </h3>
                            </div>
                            <div id="countdown" class="grid grid-cols-4 gap-3">
                                <div class="p-4 bg-gradient-to-br from-purple-500/20 to-pink-500/20 rounded-2xl border border-purple-400/30 backdrop-blur-sm">
                                    <div id="days" class="text-3xl font-black text-white mb-1">-</div>
                                    <div class="text-xs text-gray-300 font-semibold uppercase tracking-wider">Days</div>
                                </div>
                                <div class="p-4 bg-gradient-to-br from-pink-500/20 to-cyan-500/20 rounded-2xl border border-pink-400/30 backdrop-blur-sm">
                                    <div id="hours" class="text-3xl font-black text-white mb-1">-</div>
                                    <div class="text-xs text-gray-300 font-semibold uppercase tracking-wider">Hours</div>
                                </div>
                                <div class="p-4 bg-gradient-to-br from-cyan-500/20 to-blue-500/20 rounded-2xl border border-cyan-400/30 backdrop-blur-sm">
                                    <div id="mins" class="text-3xl font-black text-white mb-1">-</div>
                                    <div class="text-xs text-gray-300 font-semibold uppercase tracking-wider">Mins</div>
                                </div>
                                <div class="p-4 bg-gradient-to-br from-blue-500/20 to-purple-500/20 rounded-2xl border border-blue-400/30 backdrop-blur-sm">
                                    <div id="secs" class="text-3xl font-black text-white mb-1">-</div>
                                    <div class="text-xs text-gray-300 font-semibold uppercase tracking-wider">Secs</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Notification form -->
                    <div class="relative">
                        <div class="absolute inset-0 bg-gradient-to-r from-indigo-600 to-purple-600 rounded-3xl blur-xl opacity-20"></div>
                        <form id="notifyForm" class="relative p-8 rounded-3xl bg-slate-900/80 backdrop-blur-xl border border-white/10 space-y-4">
                            <div class="text-center mb-4">
                                <h3 class="text-lg font-bold text-white mb-2">
                                    <i class="fas fa-bell text-purple-400 mr-2"></i>
                                    Get Notified When We're Back
                                </h3>
                                <p class="text-sm text-gray-400">We'll send you an email as soon as we're live!</p>
                            </div>
                            <div class="flex flex-col sm:flex-row gap-3">
                                <input id="notifyEmail" type="email" placeholder="your@email.com" class="flex-1 px-5 py-4 rounded-xl bg-black/50 placeholder-gray-500 border border-white/20 hover:border-purple-400/50 focus:border-purple-400 focus:ring-2 focus:ring-purple-400/20 focus:outline-none text-white transition-all duration-300" required/>
                                <button type="submit" id="notifyBtn" class="px-8 py-4 rounded-xl bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 font-bold text-white transition-all duration-300 hover:scale-105 shadow-lg hover:shadow-purple-500/50 flex items-center justify-center gap-2">
                                    <i class="fas fa-paper-plane"></i>
                                    <span>Notify Me</span>
                                </button>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- Right: Interactive preview & features -->
                <div class="space-y-6">
                    <!-- Status card -->
                    <div class="relative">
                        <div class="absolute inset-0 bg-gradient-to-r from-yellow-600 to-orange-600 rounded-3xl blur-xl opacity-20"></div>
                        <div class="relative p-6 rounded-3xl bg-slate-900/80 backdrop-blur-xl border border-white/10">
                            <div class="flex items-center justify-between">
                                <div>
                                    <div class="text-sm text-gray-400 font-medium mb-1">System Status</div>
                                    <div class="text-xl font-bold text-white">Under Maintenance</div>
                                </div>
                                <div class="flex items-center gap-3">
                                    <div id="statusDot" class="w-4 h-4 rounded-full bg-yellow-400 ring-4 ring-yellow-400/30 animate-pulse"></div>
                                    <div class="px-4 py-2 rounded-xl bg-yellow-400/20 border border-yellow-400/40 text-yellow-400 text-sm font-bold">
                                        <i class="fas fa-wrench mr-2"></i>Working
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Interactive preview -->
                    <div class="relative group">
                        <div class="absolute inset-0 bg-gradient-to-r from-purple-600 via-pink-600 to-cyan-600 rounded-3xl blur-xl opacity-30 group-hover:opacity-50 transition-opacity duration-500"></div>
                        <div class="relative p-6 rounded-3xl bg-slate-900/80 backdrop-blur-xl border border-white/10 hover:border-white/20 transition-all duration-300">
                            <div class="mb-4">
                                <h3 class="text-lg font-bold text-white mb-2">
                                    <i class="fas fa-sparkles text-purple-400 mr-2"></i>
                                    Interactive Preview
                                </h3>
                                <p class="text-sm text-gray-400">Hover & click for surprises!</p>
                            </div>
                            <div id="art" class="relative h-64 rounded-2xl bg-gradient-to-br from-purple-600 via-pink-600 to-cyan-600 flex items-center justify-center overflow-hidden cursor-pointer transition-all duration-500 hover:scale-[1.02] shadow-2xl group-hover:shadow-purple-500/50">
                                <div id="artText" class="relative z-10 text-center pointer-events-none select-none">
                                    <div class="text-6xl mb-2 animate-float">🚀</div>
                                    <div class="text-xl font-bold text-white">Click Me!</div>
                                </div>
                                <div id="sparkleBox" class="absolute inset-0 pointer-events-none"></div>
                            </div>
                        </div>
                    </div>

                    <!-- Action buttons -->
                    <div class="grid grid-cols-2 gap-4">
                        <button id="ghostBtn" class="relative group p-6 rounded-2xl bg-slate-900/80 backdrop-blur-xl border border-white/10 hover:border-white/20 font-semibold transition-all duration-300 hover:scale-105 text-center">
                            <i class="fas fa-list text-purple-400 text-2xl mb-2 block"></i>
                            <span class="text-white">Changelog</span>
                        </button>
                        <button id="contactBtn" class="relative group p-6 rounded-2xl bg-gradient-to-br from-emerald-500 to-teal-500 hover:from-emerald-400 hover:to-teal-400 font-bold transition-all duration-300 hover:scale-105 shadow-lg hover:shadow-emerald-500/50 text-center">
                            <i class="fas fa-envelope text-white text-2xl mb-2 block"></i>
                            <span class="text-white">Contact Us</span>
                        </button>
                    </div>

                    <!-- Dev console -->
                    <div id="devConsole" class="hidden p-4 rounded-2xl bg-black/80 backdrop-blur-xl border border-green-500/30 text-xs font-mono text-green-300 max-h-48 overflow-auto shadow-lg shadow-green-500/20">
                        <div class="text-green-400 font-bold mb-2">// DEV CONSOLE //</div>
                        <div id="devContent">Initializing...</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Changelog Modal -->
    <div id="changelogModal" class="fixed inset-0 bg-black/80 backdrop-blur-sm z-[9999] flex items-center justify-center p-4" style="display: none;">
        <div class="bg-gray-900 border border-white/10 rounded-2xl shadow-2xl max-w-2xl w-full max-h-[80vh] overflow-hidden">
            <div class="flex items-center justify-between p-6 border-b border-white/10">
                <h3 class="text-xl font-bold text-white">📋 Development Changelog</h3>
                <button id="closeChangelog" class="text-gray-400 hover:text-white text-xl">&times;</button>
            </div>
            <div class="p-6 overflow-y-auto max-h-[60vh] text-gray-300">
                <div class="space-y-6">
                    <div class="border-l-2 border-purple-500 pl-4">
                        <div class="flex items-center gap-2 mb-2">
                            <span class="text-purple-400 font-semibold">v2.1.0</span>
                            <span class="text-xs bg-purple-500/20 text-purple-300 px-2 py-1 rounded">Current</span>
                        </div>
                        <p class="text-sm text-gray-400 mb-3">September 28, 2025</p>
                        <ul class="space-y-1 text-sm">
                            <li class="flex items-center gap-2"><span class="text-green-400">✨</span> Enhanced interactive preview pane with slower easter eggs</li>
                            <li class="flex items-center gap-2"><span class="text-blue-400">🔧</span> Improved email notification system reliability</li>
                            <li class="flex items-center gap-2"><span class="text-yellow-400">⚡</span> Optimized countdown timer with real-time updates</li>
                        </ul>
                    </div>
                    <div class="border-l-2 border-gray-500 pl-4">
                        <div class="flex items-center gap-2 mb-2">
                            <span class="text-gray-400 font-semibold">v2.0.0</span>
                        </div>
                        <p class="text-sm text-gray-400 mb-3">September 26, 2025</p>
                        <ul class="space-y-1 text-sm">
                            <li class="flex items-center gap-2"><span class="text-green-400">✨</span> Modern maintenance page with interactive elements</li>
                            <li class="flex items-center gap-2"><span class="text-purple-400">🎨</span> Glitch effects and animated background particles</li>
                            <li class="flex items-center gap-2"><span class="text-blue-400">📱</span> Fully responsive mobile-first design</li>
                            <li class="flex items-center gap-2"><span class="text-cyan-400">⭐</span> Sparkle effects and hover interactions</li>
                        </ul>
                    </div>
                    <div class="border-l-2 border-gray-500 pl-4">
                        <div class="flex items-center gap-2 mb-2">
                            <span class="text-gray-400 font-semibold">v1.5.0</span>
                        </div>
                        <p class="text-sm text-gray-400 mb-3">September 25, 2025</p>
                        <ul class="space-y-1 text-sm">
                            <li class="flex items-center gap-2"><span class="text-orange-400">🔧</span> Blog system integration and markdown support</li>
                            <li class="flex items-center gap-2"><span class="text-green-400">🚀</span> Performance optimizations and code cleanup</li>
                            <li class="flex items-center gap-2"><span class="text-red-400">🐛</span> Fixed quote form submission issues</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Micro-interactions and animations -->
    <style>
        /* Glitch title (use data-text to avoid content duplication issues) */
        .glitch { position: relative; color: white; display: inline-block; line-height: 1.03; z-index: 2; }
        .glitch::before, .glitch::after {
            content: attr(data-text);
            position: absolute; left: 0; top: 0; width: 100%; pointer-events: none; z-index: 1; overflow: hidden;
        }
        .glitch::before { transform: translate(-2px, -2px) skewX(-6deg); color: rgba(124,58,237,0.85); mix-blend-mode: screen; clip-path: inset(0 0 50% 0); animation: g1 2.5s infinite linear; }
        .glitch::after { transform: translate(2px, 2px) skewX(6deg); color: rgba(236,72,153,0.85); mix-blend-mode: screen; clip-path: inset(50% 0 0 0); animation: g2 2.1s infinite linear; }
        @keyframes g1 { 0% { transform: translate(-2px,-2px) skewX(-6deg); } 50% { transform: translate(-6px,0) skewX(-2deg); } 100% { transform: translate(-2px,-2px) skewX(-6deg); } }
        @keyframes g2 { 0% { transform: translate(2px,2px) skewX(6deg); } 50% { transform: translate(6px,0) skewX(2deg); } 100% { transform: translate(2px,2px) skewX(6deg); } }

        /* Subtle floating particles */
        #bgCanvas { filter: blur(6px) brightness(.85) saturate(1.1); }

        /* Interactive art hover */
        #art { transition: transform .35s cubic-bezier(.2,.9,.3,1), box-shadow .35s; }
        #art:hover { transform: translateY(-8px) scale(1.02); box-shadow: 0 15px 40px rgba(0,0,0,0.45); }

        /* Buttons */
        button:active { transform: translateY(1px); }

                /* Ensure readable wrapping and spacing on small screens */
                @media (max-width: 640px) {
                    .glitch { font-size: 1.3rem; }
                    #countdown { gap: .3rem; }
                    #art { min-height: 120px; }
                }
    </style>

        <script>
                // Easter eggs for the preview pane
                (function(){
                    const art = document.getElementById('art');
                    const artText = document.getElementById('artText');
                    const sparkleBox = document.getElementById('sparkleBox');
                    const eggs = [
                        { type: 'emoji', value: '🦄✨', label: 'Unicorn Mode!' },
                        { type: 'emoji', value: '🤖', label: 'AI is watching...' },
                        { type: 'fact', value: 'Did you know? Africa has the youngest population in the world.' },
                        { type: 'fact', value: 'Fun fact: The first website ever was published in 1991.' },
                        { type: 'emoji', value: '🌈', label: 'Double rainbow!' },
                        { type: 'anim', value: 'spin', label: 'Spinning up...' },
                        { type: 'emoji', value: '🚀', label: 'Launching soon!' },
                        { type: 'fact', value: 'Easter egg: You found a secret!' },
                        { type: 'emoji', value: '👾', label: 'Glitch in the matrix' },
                        { type: 'anim', value: 'shake', label: 'Shaking things up!' }
                    ];

                    // Sparkle effect on hover
                    function sparkle(e) {
                        const rect = art.getBoundingClientRect();
                        for(let i=0;i<6;i++) {
                            const s = document.createElement('div');
                            const x = e ? (e.clientX - rect.left) : Math.random()*rect.width;
                            const y = e ? (e.clientY - rect.top) : Math.random()*rect.height;
                            s.className = 'absolute w-2 h-2 rounded-full bg-white opacity-80 pointer-events-none';
                            s.style.left = (x + (Math.random()-0.5)*40) + 'px';
                            s.style.top = (y + (Math.random()-0.5)*40) + 'px';
                            s.style.boxShadow = `0 0 12px 2px #fff, 0 0 24px 8px #a78bfa`;
                            s.style.transform = `scale(${0.7+Math.random()*1.2})`;
                            s.style.transition = 'opacity 2s, transform 2s';
                            sparkleBox.appendChild(s);
                            setTimeout(()=>{ s.style.opacity=0; s.style.transform+=' scale(2.2)'; }, 10);
                            setTimeout(()=>{ s.remove(); }, 2100);
                        }
                    }
                    art.addEventListener('mousemove', sparkle);
                    art.addEventListener('mouseenter', (e)=>{
                        art.style.background = 'radial-gradient(circle at 60% 40%, #fff7, #a78bfa 60%, #0ea5e9 100%)';
                        sparkle(e);
                    });
                    art.addEventListener('mouseleave', ()=>{
                        art.style.background = '';
                    });

                    // Easter egg on click
                    art.addEventListener('click', ()=>{
                        const egg = eggs[Math.floor(Math.random()*eggs.length)];
                        let restoreDelay = 8000;
                        if(egg.type==='emoji') {
                            artText.innerHTML = `<div class="text-5xl animate-bounce">${egg.value}</div><div class="text-base mt-2">${egg.label}</div>`;
                            sparkle();
                        } else if(egg.type==='fact') {
                            artText.innerHTML = `<div class="text-lg font-semibold">${egg.value}</div>`;
                            sparkle();
                        } else if(egg.type==='anim') {
                            restoreDelay = 6000;
                            if(egg.value==='spin') {
                                art.classList.add('animate-spin');
                                artText.innerHTML = `<div class="text-3xl">🌀</div><div class="text-base mt-2">${egg.label}</div>`;
                                setTimeout(()=>{ art.classList.remove('animate-spin'); artText.innerHTML = orig; }, restoreDelay);
                            } else if(egg.value==='shake') {
                                art.classList.add('animate-pulse');
                                artText.innerHTML = `<div class="text-3xl">💥</div><div class="text-base mt-2">${egg.label}</div>`;
                                setTimeout(()=>{ art.classList.remove('animate-pulse'); artText.innerHTML = orig; }, restoreDelay);
                            }
                            sparkle();
                        }
                        // Restore after 4s (facts/emoji) or 2.5s (anim)
                        if(egg.type!=='anim') {
                            setTimeout(()=>{ artText.innerHTML = orig; }, restoreDelay);
                        }
                    });
                    // Save original content
                    const orig = artText.innerHTML;
                })();
        // Particle background & gradient animator
        (function(){
            const canvas = document.getElementById('bgCanvas');
            const ctx = canvas.getContext('2d');
            let w = canvas.width = innerWidth; let h = canvas.height = innerHeight;
            const particles = [];
            const colors = ['#7C3AED','#FB7185','#06B6D4','#A78BFA'];
            function rand(min,max){ return Math.random()*(max-min)+min }
            for(let i=0;i<70;i++){ particles.push({ x: rand(0,w), y: rand(0,h), r: rand(0.6,2.4), vx: rand(-0.25,0.25), vy: rand(-0.2,0.2), c: colors[i%colors.length] }) }
            function resize(){ w=canvas.width=innerWidth; h=canvas.height=innerHeight }
            addEventListener('resize', resize);
            function draw(){ ctx.clearRect(0,0,w,h);
                // animated gradient
                const g = ctx.createLinearGradient(0,0,w,h);
                g.addColorStop(0, '#0f172a'); g.addColorStop(.4, '#1e293b'); g.addColorStop(1, '#0f172a');
                ctx.fillStyle = g; ctx.fillRect(0,0,w,h);
                // particles
                particles.forEach(p=>{
                    p.x += p.vx; p.y += p.vy;
                    if(p.x< -50) p.x = w+50; if(p.x > w+50) p.x = -50;
                    if(p.y< -50) p.y = h+50; if(p.y > h+50) p.y = -50;
                    ctx.beginPath(); ctx.fillStyle = p.c; ctx.globalAlpha = .12; ctx.arc(p.x,p.y,p.r,0,Math.PI*2); ctx.fill();
                });
                ctx.globalAlpha = 1; requestAnimationFrame(draw);
            }
            draw();
        })();

        // Countdown (2 days from initial visit, persistent across refreshes)
        (function(){
            const MAINTENANCE_KEY = 'maintenanceEndTime';
            let endTime;
            
            // Check if we already have an end time stored
            const stored = localStorage.getItem(MAINTENANCE_KEY);
            if (stored) {
                endTime = parseInt(stored, 10);
            } else {
                // First visit - set countdown to 4 days from now
                endTime = Date.now() + (4 * 24 * 60 * 60 * 1000); // 4 days in milliseconds
                localStorage.setItem(MAINTENANCE_KEY, endTime.toString());
            }
            
            function update(){
                const now = Date.now();
                const remainingMs = Math.max(0, endTime - now);
                const s = Math.floor(remainingMs / 1000);
                
                const days = Math.floor(s / 86400); 
                const hrs = Math.floor((s % 86400) / 3600);
                const mins = Math.floor((s % 3600) / 60); 
                const secs = s % 60;
                
                document.getElementById('days').textContent = String(days).padStart(2,'0');
                document.getElementById('hours').textContent = String(hrs).padStart(2,'0');
                document.getElementById('mins').textContent = String(mins).padStart(2,'0');
                document.getElementById('secs').textContent = String(secs).padStart(2,'0');
                
                // If countdown has finished, show completion message
                if (remainingMs <= 0) {
                    document.getElementById('days').textContent = '00';
                    document.getElementById('hours').textContent = '00';
                    document.getElementById('mins').textContent = '00';
                    document.getElementById('secs').textContent = '00';
                    
                    // Update status to show maintenance is complete
                    const statusDot = document.getElementById('statusDot');
                    statusDot.className = 'w-4 h-4 rounded-full bg-green-400 ring-4 ring-green-400/30 animate-pulse';
                    
                    // You could also redirect to main site or show different message here
                    // window.location.href = 'index.html'; // Uncomment to auto-redirect
                }
                
                requestAnimationFrame(update);
            }
            update();
        })();

        // Micro interactions: notify form & dev console
        (function(){
            const form = document.getElementById('notifyForm');
            const email = document.getElementById('notifyEmail');
            const notifyBtn = document.getElementById('notifyBtn');
            const notifyBtnTop = document.getElementById('notifyBtnTop');
            
            function handleNotifySubmit(e) {
                e.preventDefault();
                const val = email.value.trim();
                if (!val || !/@/.test(val)) {
                    email.classList.add('border-red-400');
                    return;
                }
                // Create a prefilled email to the site owner
                const to = 'kevinkutoane@ymail.com';
                const subject = encodeURIComponent('Subscribe: Maintenance notification');
                const body = encodeURIComponent(`Please notify this address when the site is live: ${val}\n\nSubmitted via maintenance page.`);
                const mailto = `mailto:${to}?subject=${subject}&body=${body}`;
                // Try window.open, fallback to location.href
                let opened = false;
                try {
                    const win = window.open(mailto, '_blank');
                    if (win) opened = true;
                } catch (err) {}
                if (!opened) {
                    window.location.href = mailto;
                }
                // Provide UI feedback
                notifyBtn.textContent = 'Opening mail…';
                notifyBtn.classList.add('opacity-80');
                setTimeout(() => {
                    notifyBtn.textContent = 'Notify me';
                    notifyBtn.classList.remove('opacity-80');
                }, 2200);
                email.value = '';
            }
            
            form.addEventListener('submit', handleNotifySubmit);
            
            // Handle top notify button click (if it exists)
            if (notifyBtnTop) {
                notifyBtnTop.addEventListener('click', () => {
                    // Scroll to the form and focus the email input
                    email.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    setTimeout(() => email.focus(), 500);
                });
            }

            // Toggle dev console
            const toggle = document.getElementById('toggleDev');
            const dev = document.getElementById('devConsole');
            toggle.addEventListener('click', ()=>{
                if(dev.classList.contains('hidden')){ 
                    dev.classList.remove('hidden'); 
                    const endTime = localStorage.getItem('maintenanceEndTime');
                    const endDate = endTime ? new Date(parseInt(endTime)).toLocaleString() : 'Not set';
                    dev.innerHTML = `
                        [DEV] Maintenance End Time: ${endDate}<br>
                        <button onclick="resetCountdown(4)" class="mt-2 px-3 py-1 bg-purple-500 hover:bg-purple-600 text-white text-xs rounded">Reset to 4 days</button>
                        <button onclick="resetCountdown(2)" class="mt-2 ml-2 px-3 py-1 bg-red-500 hover:bg-red-600 text-white text-xs rounded">Reset to 2 days</button>
                        <button onclick="resetCountdown(1)" class="mt-2 ml-2 px-3 py-1 bg-yellow-500 hover:bg-yellow-600 text-white text-xs rounded">Reset to 1 day</button>
                        <button onclick="resetCountdown(0.01)" class="mt-2 ml-2 px-3 py-1 bg-orange-500 hover:bg-orange-600 text-white text-xs rounded">1 minute (test)</button>
                    `;
                }
                else { dev.classList.add('hidden') }
            });
            
            // Add global reset function for dev console
            window.resetCountdown = function(days = 4) {
                const newEndTime = Date.now() + (days * 24 * 60 * 60 * 1000);
                localStorage.setItem('maintenanceEndTime', newEndTime.toString());
                location.reload(); // Reload to apply new countdown
            };

            // Changelog button - show modal
            const ghostBtn = document.getElementById('ghostBtn');
            const changelogModal = document.getElementById('changelogModal');
            const closeChangelog = document.getElementById('closeChangelog');
            
            if(ghostBtn && changelogModal) {
                ghostBtn.addEventListener('click', ()=>{
                    changelogModal.style.display = 'flex';
                });
            }
            
            // Close changelog modal
            if(closeChangelog && changelogModal) {
                closeChangelog.addEventListener('click', ()=>{
                    changelogModal.style.display = 'none';
                });
            }
            
            // Close modal when clicking outside
            if(changelogModal) {
                changelogModal.addEventListener('click', (e)=>{
                    if(e.target.id === 'changelogModal') {
                        changelogModal.style.display = 'none';
                    }
                });
            }
            document.getElementById('contactBtn').addEventListener('click', ()=>{
                window.location.href = 'mailto:kevinkutoane@ymail.com';
            });
        })();
    </script>

</body>
</html>
